var boel=function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},r="INUMBER",s="IVAR",i="IEXPR";function o(t,e){this.type=t,this.value=null!=e?e:0}function a(t){return new o("IOP1",t)}function u(t){return new o("IOP2",t)}function h(t){return new o("IOP3",t)}function p(t,e,n){var o,a,u,h,d,v,y=[];if(c(t))return f(t,n);for(var g=t.length,x=0;x<g;x++){var m=t[x],E=m.type;if(E===r||"IVARNAME"===E)y.push(m.value);else if("IOP2"===E)a=y.pop(),o=y.pop(),"and"===m.value?y.push(!!o&&!!p(a,e,n)):"or"===m.value?y.push(!!o||!!p(a,e,n)):"="===m.value?(h=e.binaryOps[m.value],y.push(h(o,p(a,e,n),n))):(h=e.binaryOps[m.value],y.push(h(f(o,n),f(a,n))));else if("IOP3"===E)u=y.pop(),a=y.pop(),o=y.pop(),"?"===m.value?y.push(p(o?a:u,e,n)):(h=e.ternaryOps[m.value],y.push(h(f(o,n),f(a,n),f(u,n))));else if(E===s)if(m.value in e.functions)y.push(e.functions[m.value]);else if(m.value in e.unaryOps&&e.parser.isOperatorEnabled(m.value))y.push(e.unaryOps[m.value]);else{var w=n[m.value];if(void 0===w)throw new Error("undefined variable: "+m.value);y.push(w)}else if("IOP1"===E)o=y.pop(),h=e.unaryOps[m.value],y.push(h(f(o,n)));else if("IFUNCALL"===E){for(v=m.value,d=[];v-- >0;)d.unshift(f(y.pop(),n));if(!(h=y.pop()).apply||!h.call)throw new Error(h+" is not a function");y.push(h.apply(void 0,d))}else if("IFUNDEF"===E)y.push(function(){for(var t=y.pop(),r=[],s=m.value;s-- >0;)r.unshift(y.pop());var i=y.pop(),o=function(){for(var s=Object.assign({},n),i=0,o=r.length;i<o;i++)s[r[i]]=arguments[i];return p(t,e,s)};return Object.defineProperty(o,"name",{value:i,writable:!1}),n[i]=o,o}());else if(E===i)y.push(l(m,e));else if("IEXPREVAL"===E)y.push(m);else if("IMEMBER"===E)o=y.pop(),y.push(o[m.value]);else if("IENDSTATEMENT"===E)y.pop();else{if("IARRAY"!==E)throw new Error("invalid Expression");for(v=m.value,d=[];v-- >0;)d.unshift(y.pop());y.push(d)}}if(y.length>1)throw new Error("invalid Expression (parity)");return 0===y[0]?0:f(y[0],n)}function l(t,e,n){return c(t)?t:{type:"IEXPREVAL",value:function(n){return p(t.value,e,n)}}}function c(t){return t&&"IEXPREVAL"===t.type}function f(t,e){return c(t)?t.value(e):t}function d(t,e){for(var n,o,a,u,h,p,l=[],c=0;c<t.length;c++){var f=t[c],y=f.type;if(y===r)"number"==typeof f.value&&f.value<0?l.push("("+f.value+")"):Array.isArray(f.value)?l.push("["+f.value.map(v).join(", ")+"]"):l.push(v(f.value));else if("IOP2"===y)o=l.pop(),n=l.pop(),u=f.value,e?"^"===u?l.push("Math.pow("+n+", "+o+")"):"and"===u?l.push("(!!"+n+" && !!"+o+")"):"or"===u?l.push("(!!"+n+" || !!"+o+")"):"||"===u?l.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+n+"),("+o+")))"):"=="===u?l.push("("+n+" === "+o+")"):"!="===u?l.push("("+n+" !== "+o+")"):"["===u?l.push(n+"[("+o+") | 0]"):l.push("("+n+" "+u+" "+o+")"):"["===u?l.push(n+"["+o+"]"):l.push("("+n+" "+u+" "+o+")");else if("IOP3"===y){if(a=l.pop(),o=l.pop(),n=l.pop(),"?"!==(u=f.value))throw new Error("invalid Expression");l.push("("+n+" ? "+o+" : "+a+")")}else if(y===s||"IVARNAME"===y)l.push(f.value);else if("IOP1"===y)n=l.pop(),"-"===(u=f.value)||"+"===u?l.push("("+u+n+")"):e?"not"===u?l.push("(!"+n+")"):"!"===u?l.push("fac("+n+")"):l.push(u+"("+n+")"):"!"===u?l.push("("+n+"!)"):l.push("("+u+" "+n+")");else if("IFUNCALL"===y){for(p=f.value,h=[];p-- >0;)h.unshift(l.pop());u=l.pop(),l.push(u+"("+h.join(", ")+")")}else if("IFUNDEF"===y){for(o=l.pop(),p=f.value,h=[];p-- >0;)h.unshift(l.pop());n=l.pop(),e?l.push("("+n+" = function("+h.join(", ")+") { return "+o+" })"):l.push("("+n+"("+h.join(", ")+") = "+o+")")}else if("IMEMBER"===y)n=l.pop(),l.push(n+"."+f.value);else if("IARRAY"===y){for(p=f.value,h=[];p-- >0;)h.unshift(l.pop());l.push("["+h.join(", ")+"]")}else if(y===i)l.push("("+d(f.value,e)+")");else if("IENDSTATEMENT"!==y)throw new Error("invalid Expression")}return l.length>1&&(l=e?[l.join(",")]:[l.join(";")]),String(l[0])}function v(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function g(t,e,n){for(var r=!!(n=n||{}).withMembers,o=null,a=0;a<t.length;a++){var u=t[a];u.type===s||"IVARNAME"===u.type?r||y(e,u.value)?null!==o?(y(e,o)||e.push(o),o=u.value):o=u.value:e.push(u.value):"IMEMBER"===u.type&&r&&null!==o?o+="."+u.value:u.type===i?g(u.value,e,n):null!==o&&(y(e,o)||e.push(o),o=null)}null===o||y(e,o)||e.push(o)}function x(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}o.prototype.toString=function(){switch(this.type){case r:case"IOP1":case"IOP2":case"IOP3":case s:case"IVARNAME":case"IENDSTATEMENT":return this.value;case"IFUNCALL":return"CALL "+this.value;case"IFUNDEF":return"DEF "+this.value;case"IARRAY":return"ARRAY "+this.value;case"IMEMBER":return"."+this.value;default:return"Invalid Instruction"}},x.prototype.simplify=function(t){return t=t||{},new x(function t(e,n,a,u,h){for(var p,l,c,f,d=[],v=[],y=0;y<e.length;y++){var g=e[y],x=g.type;if(x===r||"IVARNAME"===x)Array.isArray(g.value)?d.push.apply(d,t(g.value.map((function(t){return new o(r,t)})).concat(new o("IARRAY",g.value.length)),n,a,u,h)):d.push(g);else if(x===s&&h.hasOwnProperty(g.value))g=new o(r,h[g.value]),d.push(g);else if("IOP2"===x&&d.length>1)l=d.pop(),p=d.pop(),f=a[g.value],g=new o(r,f(p.value,l.value)),d.push(g);else if("IOP3"===x&&d.length>2)c=d.pop(),l=d.pop(),p=d.pop(),"?"===g.value?d.push(p.value?l.value:c.value):(f=u[g.value],g=new o(r,f(p.value,l.value,c.value)),d.push(g));else if("IOP1"===x&&d.length>0)p=d.pop(),f=n[g.value],g=new o(r,f(p.value)),d.push(g);else if(x===i){for(;d.length>0;)v.push(d.shift());v.push(new o(i,t(g.value,n,a,u,h)))}else if("IMEMBER"===x&&d.length>0)p=d.pop(),d.push(new o(r,p.value[g.value]));else{for(;d.length>0;)v.push(d.shift());v.push(g)}}for(;d.length>0;)v.push(d.shift());return v}(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},x.prototype.substitute=function(t,e){return e instanceof x||(e=this.parser.parse(String(e))),new x(function t(e,n,r){for(var p=[],l=0;l<e.length;l++){var c=e[l],f=c.type;if(f===s&&c.value===n)for(var d=0;d<r.tokens.length;d++){var v,y=r.tokens[d];v="IOP1"===y.type?a(y.value):"IOP2"===y.type?u(y.value):"IOP3"===y.type?h(y.value):new o(y.type,y.value),p.push(v)}else f===i?p.push(new o(i,t(c.value,n,r))):p.push(c)}return p}(this.tokens,t,e),this.parser)},x.prototype.evaluate=function(t){return t=t||{},p(this.tokens,this,t)},x.prototype.toString=function(){return d(this.tokens,!1)},x.prototype.symbols=function(t){t=t||{};var e=[];return g(this.tokens,e,t),e},x.prototype.variables=function(t){t=t||{};var e=[];g(this.tokens,e,t);var n=this.functions;return e.filter((function(t){return!(t in n)}))},x.prototype.toJSFunction=function(t,e){var n=this,r=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+d(this.simplify(e).tokens,!0)+"; }");return function(){return r.apply(n,arguments)}};var m="TOP",E="TPAREN";function w(t,e,n){this.type=t,this.value=e,this.index=n}function F(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}w.prototype.toString=function(){return this.type+": "+this.value},F.prototype.newToken=function(t,e,n){return new w(t,e,null!=n?n:this.pos)},F.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},F.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},F.prototype.next=function(){return this.pos>=this.expression.length?this.newToken("TEOF","EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},F.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var s=this.expression.substring(e+1,r);this.current=this.newToken("TSTRING",this.unescape(s),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},F.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(E,t),this.pos++,!0)},F.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken("TBRACKET",t),this.pos++,!0)},F.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken("TCOMMA",","),this.pos++,!0)},F.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken("TSEMICOLON",";"),this.pos++,!0)},F.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken("TNUMBER",this.consts[r]),this.pos+=r.length,!0}return!1},F.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(m,r),this.pos+=r.length,!0}return!1},F.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var s=this.expression.substring(t,e);return this.current=this.newToken("TNAME",s),this.pos+=s.length,!0}return!1},F.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var T=/^[0-9a-f]{4}$/i;function A(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess}F.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var s=t.substring(e+1,e+5);T.test(s)||this.parseError("Illegal escape sequence: \\u"+s),n+=String.fromCharCode(parseInt(s,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var i=t.indexOf("\\",e);n+=t.substring(e,i<0?t.length:i),e=i}return n},F.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},F.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,s=n;n<this.expression.length;){var i=this.expression.charAt(n);if(!e.test(i))break;n++,r=!0}return r&&(this.current=this.newToken("TNUMBER",parseInt(this.expression.substring(s,n),t)),this.pos=n),r},F.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,s=n,i=!1,o=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!i&&"."===t);)"."===t?i=!0:o=!0,n++,e=o;if(e&&(s=n),"e"===t||"E"===t){n++;for(var a=!0,u=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;u=!0,a=!1}else a=!1;n++}u||(n=s)}return e?(this.current=this.newToken("TNUMBER",parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=s,e},F.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(m,e);else if("∙"===e||"•"===e)this.current=this.newToken(m,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(m,">="),this.pos++):this.current=this.newToken(m,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(m,"<="),this.pos++):this.current=this.newToken(m,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(m,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(m,"=="),this.pos++):this.current=this.newToken(m,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(m,"!="),this.pos++):this.current=this.newToken(m,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},F.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},F.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},F.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},A.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},A.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?y(e,t.value):"function"==typeof e?e(t):t.value===e)},A.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},A.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},A.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},A.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},A.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept("TNAME")||this.accept(m,(function(t){return t.value in e})))t.push(new o(s,this.current.value));else if(this.accept("TNUMBER"))t.push(new o(r,this.current.value));else if(this.accept("TSTRING"))t.push(new o(r,this.current.value));else if(this.accept(E,"("))this.parseExpression(t),this.expect(E,")");else{if(!this.accept("TBRACKET","["))throw new Error("unexpected "+this.nextToken);if(this.accept("TBRACKET","]"))t.push(new o("IARRAY",0));else{var n=this.parseArrayList(t);t.push(new o("IARRAY",n))}}},A.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},A.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},A.prototype.parseUntilEndStatement=function(t,e){return!!this.accept("TSEMICOLON")&&(!this.nextToken||"TEOF"===this.nextToken.type||this.nextToken.type===E&&")"===this.nextToken.value||e.push(new o("IENDSTATEMENT")),"TEOF"!==this.nextToken.type&&this.parseExpression(e),t.push(new o(i,e)),!0)},A.prototype.parseArrayList=function(t){for(var e=0;!this.accept("TBRACKET","]");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},A.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(m,"=");){var e=t.pop(),n=[],r=t.length-1;if("IFUNCALL"!==e.type){if(e.type!==s&&"IMEMBER"!==e.type)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new o("IVARNAME",e.value)),t.push(new o(i,n)),t.push(u("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var a=0,h=e.value+1;a<h;a++){var p=r-a;t[p].type===s&&(t[p]=new o("IVARNAME",t[p].value))}this.parseVariableAssignmentExpression(n),t.push(new o(i,n)),t.push(new o("IFUNDEF",e.value))}}},A.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(m,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(m,":"),this.parseConditionalExpression(n),t.push(new o(i,e)),t.push(new o(i,n)),t.push(h("?"))}},A.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(m,"or");){var e=[];this.parseAndExpression(e),t.push(new o(i,e)),t.push(u("or"))}},A.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(m,"and");){var e=[];this.parseComparison(e),t.push(new o(i,e)),t.push(u("and"))}};var M=["==","!=","<","<=",">=",">","in"];A.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(m,M);){var e=this.current;this.parseAddSub(t),t.push(u(e.value))}};var b=["+","-","||"];A.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(m,b);){var e=this.current;this.parseTerm(t),t.push(u(e.value))}};var O=["*","/","%"];function k(t,e){return Number(t)+Number(e)}function _(t,e){return t-e}function I(t,e){return t*e}function N(t,e){return t/e}function C(t,e){return t%e}function S(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function R(t,e){return t===e}function V(t,e){return t!==e}function q(t,e){return t>e}function D(t,e){return t<e}function L(t,e){return t>=e}function P(t,e){return t<=e}function B(t,e){return Boolean(t&&e)}function U(t,e){return Boolean(t||e)}function j(t,e){return y(e,t)}function z(t){return(Math.exp(t)-Math.exp(-t))/2}function G(t){return(Math.exp(t)+Math.exp(-t))/2}function $(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function Y(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function K(t){return Math.log(t+Math.sqrt(t*t-1))}function W(t){return Math.log((1+t)/(1-t))/2}function X(t){return Math.log(t)*Math.LOG10E}function Z(t){return-t}function J(t){return!t}function H(t){return t<0?Math.ceil(t):Math.floor(t)}function Q(t){return Math.random()*(t||1)}function tt(t){return nt(t+1)}A.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(m,O);){var e=this.current;this.parseFactor(t),t.push(u(e.value))}},A.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(m,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===E&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if("TSEMICOLON"===this.nextToken.type||"TCOMMA"===this.nextToken.type||"TEOF"===this.nextToken.type||this.nextToken.type===E&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(a(n.value))}else this.parseExponential(t)},A.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(m,"^");)this.parseFactor(t),t.push(u("^"))},A.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(m,"!");)t.push(a("!"))},A.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(m,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(a(n.value))}else for(this.parseMemberExpression(t);this.accept(E,"(");)if(this.accept(E,")"))t.push(new o("IFUNCALL",0));else{var r=this.parseArgumentList(t);t.push(new o("IFUNCALL",r))}},A.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(E,")");)for(this.parseExpression(t),++e;this.accept("TCOMMA");)this.parseExpression(t),++e;return e},A.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(m,".")||this.accept("TBRACKET","[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect("TNAME"),t.push(new o("IMEMBER",this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect("TBRACKET","]"),t.push(u("["))}}};var et=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function nt(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,s=t-1;r>1;)s*=r,r--;return 0===s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*nt(1-t));if(t>=171.35)return 1/0;if(t>85){var i=t*t,o=i*t,a=o*t,u=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*o)-571/(2488320*a)+163879/(209018880*u)+5246819/(75246796800*u*t))}--t,n=et[0];for(var h=1;h<et.length;++h)n+=et[h]/(t+h);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}function rt(t){return Array.isArray(t)?t.length:String(t).length}function st(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,s=Math.abs(arguments[n]);e<s?(t=t*(r=e/s)*r+1,e=s):t+=s>0?(r=s/e)*r:s}return e===1/0?1/0:e*Math.sqrt(t)}function it(t,e,n){return t?e:n}function ot(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function at(t,e,n){return n&&(n[t]=e),e}function ut(t,e){return t[0|e]}function ht(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function pt(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function lt(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function ct(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)}function ft(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function dt(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function vt(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function yt(t){return(t>0)-(t<0)||+t}function gt(t){return t<0?-Math.pow(-t,.3333333333333333):Math.pow(t,.3333333333333333)}function xt(t){return Math.exp(t)-1}function mt(t){return Math.log(1+t)}function Et(t){return Math.log(t)/Math.LN2}function wt(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||z,cosh:Math.cosh||G,tanh:Math.tanh||$,asinh:Math.asinh||Y,acosh:Math.acosh||K,atanh:Math.atanh||W,sqrt:Math.sqrt,cbrt:Math.cbrt||gt,log:Math.log,log2:Math.log2||Et,ln:Math.log,lg:Math.log10||X,log10:Math.log10||X,expm1:Math.expm1||xt,log1p:Math.log1p||mt,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||H,"-":Z,"+":Number,exp:Math.exp,not:J,length:rt,"!":tt,sign:Math.sign||yt},this.binaryOps={"+":k,"-":_,"*":I,"/":N,"%":C,"^":Math.pow,"||":S,"==":R,"!=":V,">":q,"<":D,">=":L,"<=":P,and:B,or:U,in:j,"=":at,"[":ut},this.ternaryOps={"?":it},this.functions={random:Q,fac:tt,min:pt,max:ht,hypot:Math.hypot||st,pyt:Math.hypot||st,pow:Math.pow,atan2:Math.atan2,if:it,gamma:nt,roundTo:ot,map:lt,fold:ct,filter:ft,indexOf:dt,join:vt},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}wt.prototype.parse=function(t){var e=[],n=new A(this,new F(this,t),{allowMemberAccess:this.options.allowMemberAccess});return n.parseExpression(e),n.expect("TEOF","EOF"),new x(e,this)},wt.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Ft=new wt;wt.parse=function(t){return Ft.parse(t)},wt.evaluate=function(t,e){return Ft.parse(t).evaluate(e)};var Tt={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function At(t){return t.name?t.name:t.constructor.name}wt.prototype.isOperatorEnabled=function(t){var e=function(t){return Tt.hasOwnProperty(t)?Tt[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};var Mt,bt=function(){function t(t){this.message="",this.condition_expr=null,this.validator=t}return Object.defineProperty(t.prototype,"condition",{set:function(t){if(t){var e=new wt;this.condition_expr=e.parse(t)}else this.condition_expr=null},enumerable:!1,configurable:!0}),t}(),Ot=function(){function t(t,e){this.fields=t,this.validator_info=e,this.validations=[]}return t.prototype.addValidation=function(t){this.validations.push(new bt(t))},t.prototype.addMessage=function(t){this.validations.length>0&&(this.validations[this.validations.length-1].message=t)},t.prototype.addCondition=function(t){this.validations.length>0&&(this.validations[this.validations.length-1].condition=t)},t.prototype.validate=function(t){for(var e={},n=0,r=this.validations;n<r.length;n++){var s=r[n];if(null!==s.condition_expr)if(!s.condition_expr.evaluate(t))continue;for(var i=0,o=this.fields;i<o.length;i++){var a=o[i];s.validator.validate(a,t)||e[a]||(e[a]={validation:At(s.validator),message:this.getMessage(s,a)})}}return e},t.prototype.getMessage=function(t,r){return function(t,n){if("string"==typeof t&&"object"===e(n))for(var r in n)t=t.replace(new RegExp("{{\\s*"+r+"\\s*}}","g"),String(n[r]));return t}(t.message?t.message:this.validator_info.getMessageTemplate(t.validator),n({field:r},t.validator))},t.prototype.hasValidations=function(){return this.validations.length>0},t}(),kt=function(){function t(t){this.field_v=t}return t.prototype.addValidation=function(t){this.field_v.addValidation(t)},t.prototype.validate=function(t){return this.field_v.validate(t)},t.prototype.message=function(t){return this.field_v.addMessage(t),this},t.prototype.onlyWhen=function(t){return this.field_v.addCondition(t),this},t}(),_t=function(){function t(){this.message="{{field}} is required"}return t.prototype.validate=function(t,e){if(e[t]){if(String(e[t]).length>0)return!0}else if(0===e[t]||!1===e[t])return!0;return!1},t}(),It=function(){function t(t){this.max_length=t,this.message="{{field}} exceeded max length {{max_length}}"}return t.prototype.validate=function(t,e){return void 0===e[t]||!(String(e[t]).length>this.max_length)},t}(),Nt=function(){function t(t){this.min_length=t,this.message="{{field}} input length should be at least {{min_length}}"}return t.prototype.validate=function(t,e){return void 0===e[t]||!(String(e[t]).length<this.min_length)},t}(),Ct={"<":{name:"LessThan",message:"{{field}} should be less than {{test_value}}",fn:function(t,e){return t<e}},"<=":{name:"LessThanOrEqualTo",message:"{{field}} should be less than or equal to {{test_value}}",fn:function(t,e){return t<=e}},">":{name:"GreaterThan",message:"{{field}} should be greater than {{test_value}}",fn:function(t,e){return t>e}},">=":{name:"GreaterThanOrEqualTo",message:"{{field}} should be greater than or equal to {{test_value}}",fn:function(t,e){return t>=e}},"=":{name:"EqualTo",message:"{{field}} should be equal to {{test_value}}",fn:function(t,e){return t===e}},"!=":{name:"NotEqualTo",message:"{{field}} should not be equal to {{test_value}}",fn:function(t,e){return t!==e}}};!function(t){t[t.Value=0]="Value",t[t.Field=1]="Field"}(Mt||(Mt={}));var St=function(){function t(t,e){if(this.comparison=t,this.options=e,this.message="",this.test_value=0,this.test_against=Mt.Value,this.name="",!Object.keys(Ct).includes(t))throw Error("unsupported comparison operator "+t);if(this.name=Ct[t].name,this.message=Ct[t].message,void 0!==e.test_value)this.test_against=Mt.Value,this.test_value=e.test_value;else{if(void 0===e.test_field)throw Error("Provide one of test_value or test_field in the options");this.test_against=Mt.Field,this.test_value=e.test_field}}return t.prototype.validate=function(t,e){var n=this.getOtherValue(e);return"="==this.comparison||"!="==this.comparison?"string"==typeof e[t]?this.doEqualTest(String(e[t]),n):"number"==typeof e[t]&&this.doEqualTest(Number(e[t]),n):this.doComparison(Number(e[t]),Number(n))},t.prototype.getOtherValue=function(t){if(this.test_against==Mt.Field){if(void 0===this.options.test_field)throw Error("The test_field is not provided");if("string"==typeof t[this.options.test_field])return String(t[this.options.test_field]);if("number"==typeof t[this.options.test_field])return Number(t[this.options.test_field]);throw Error("Wrong type for test_field (neither string nor number)")}if(void 0===this.options.test_value)throw Error("The test_value is not provided");return this.options.test_value},t.prototype.doComparison=function(t,e){return Ct[this.comparison].fn(t,e)},t.prototype.doEqualTest=function(t,e){return Ct[this.comparison].fn(t,e)},t}();var Rt=function(){function t(){this.validator_makers={},this.all_validators={}}return t.prototype.addValidator=function(t,e){if("string"==typeof t)this.validator_makers[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);return null!=r&&this.addValidation(r),this};else for(var n=0,r=t;n<r.length;n++){var s=r[n];this.addValidator(s,e)}return this},t.prototype.updateMessages=function(t){for(var e in t)this.all_validators[e]?this.all_validators[e].message=t[e]:this.all_validators[e]={message:t[e]}},t.prototype.field=function(t){var e=new kt(new Ot([t],this));return Object.assign(e,this.validator_makers),e},t.prototype.fields=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new kt(new Ot(t,this));return Object.assign(n,this.validator_makers),n},t.prototype.validate=function(t,e){return this.validateByRules(t,e)},t.prototype.validateByRules=function(t,e){for(var r={},s=0,i=t;s<i.length;s++){var o=i[s].validate(e);r=n(n({},r),o)}return{has_errors:Object.keys(r).length>0,error_map:r}},t.prototype.validateFields=function(t,e){var n=function(t,e){for(var n=[],r=0,s=t;r<s.length;r++){var i=s[r],o=new Ot([i.name],e);for(var a in i.validations){var u=i.validations[a],h=null;switch(a){case"required":h=new _t;break;case"maxlength":h=new It(+u.size);break;case"minlength":h=new Nt(+u.size);break;case"LessThan":h=new St("<",{test_value:+u.num});break;case"GreaterThan":h=new St(">",{test_value:+u.num})}h&&(o.addValidation(h),u.message&&o.addMessage(u.message),u.condition&&o.addCondition(u.condition))}o.hasValidations()&&n.push(o)}return n}(t,this);return n.length<=0?{has_errors:!1}:this.validateByRules(n,e)},t.prototype.getMessageTemplate=function(t){var e="Error! ",n=At(t);return this.all_validators[n]&&this.all_validators[n].message?e=this.all_validators[n].message:t.message&&(e=t.message),e},t}(),Vt=function(){function t(t){void 0===t&&(t=!0),this.allow_space=t,this.message="{{field}} can contain only English alphabetic characters"}return t.prototype.validate=function(t,e){var n=/^[A-Za-z]+$/i;return this.allow_space&&(n=/^[A-Za-z\s]+$/i),n.test(String(e[t]))},t}(),qt=function(){function t(t){void 0===t&&(t=!0),this.allow_space=t,this.message="{{field}} can contain only alpha-numeric characters"}return t.prototype.validate=function(t,e){var n=/^[A-Za-z0-9]+$/i;return this.allow_space&&(n=/^[A-Za-z0-9\s]+$/i),n.test(String(e[t]))},t}(),Dt=function(){function t(){this.message="Please provide a valid email address"}return t.prototype.validate=function(t,e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(String(e[t]))},t}(),Lt=function(){function t(t){this.max_count=t,this.message="{{field}} selections exceeds max limit {{max_count}}"}return t.prototype.validate=function(t,e){return void 0===e[t]||(!Array.isArray(e[t])||!(e[t].length>this.max_count))},t}(),Pt=function(){function t(t){this.min_count=t,this.message="For {{field}}, select at least {{min_count}} options"}return t.prototype.validate=function(t,e){return void 0===e[t]||(!Array.isArray(e[t])||!(e[t].length<this.min_count))},t}(),Bt=function(){function t(){this.message="{{field}} should be selected"}return t.prototype.validate=function(t,e){return!!e[t]},t}(),Ut=function(){function t(t){this.extensions_str=t,this.message="Valid file extensions are: {{extensions_str}}",this.valid_extensions=[],this.valid_extensions=this.extensions_str.split(",").map((function(t){return t.trim()}))}return t.prototype.validate=function(t,e){if(e[t]&&"string"==typeof e[t]){var n=e[t].split(".").pop();if(void 0===n)return!1;if(!this.valid_extensions.includes(n))return!1}return!0},t}();return t.makeBoel=function(){return function(t){return t.addValidator(["isRequired","areRequired","required"],(function(){return new _t})).addValidator(["maxLength","checkMaxLength"],(function(t){return"number"==typeof t?new It(t):null})).addValidator(["minLength","checkMinLength"],(function(t){return"number"==typeof t?new Nt(t):null})).addValidator(["isAlphabetic","areAlphabetic"],(function(t){return void 0===t&&(t=!0),new Vt(t)})).addValidator(["isAlphaNumeric","areAlphaNumeric"],(function(t){return void 0===t&&(t=!0),new qt(t)})).addValidator(["isEmail","areEmails"],(function(){return new Dt})).addValidator(["lessThan","isLessThan","areLessThan"],(function(t){return"number"==typeof t?new St("<",{test_value:t}):null})).addValidator(["lessThanOrEqualTo","isLessThanOrEqualTo","areLessThanOrEqualTo"],(function(t){return"number"==typeof t?new St("<=",{test_value:t}):null})).addValidator(["greaterThan","isGreaterThan","areGreaterThan"],(function(t){return"number"==typeof t?new St(">",{test_value:t}):null})).addValidator(["greaterThanOrEqualTo","isGreaterThanOrEqualTo","areGreaterThanOrEqualTo"],(function(t){return"number"==typeof t?new St(">=",{test_value:t}):null})).addValidator(["equalsTo","isEqualTo","areEqualTo"],(function(t){return"number"==typeof t||"string"==typeof t?new St("=",{test_value:t}):null})).addValidator(["notEqualTo","isNotEqualTo","areNotEqualTo"],(function(t){return"number"==typeof t||"string"==typeof t?new St("!=",{test_value:t}):null})).addValidator(["lessThanField","isLessThanField","areLessThanField"],(function(t){return"string"==typeof t?new St("<",{test_field:t}):null})).addValidator(["lessThanOrEqualToField","isLessThanOrEqualToField","areLessThanOrEqualToField"],(function(t){return"string"==typeof t?new St("<=",{test_field:t}):null})).addValidator(["greaterThanField","isGreaterThanField","areGreaterThanField"],(function(t){return"string"==typeof t?new St(">",{test_field:t}):null})).addValidator(["greaterThanOrEqualToField","isGreaterThanOrEqualToField","areGreaterThanOrEqualToField"],(function(t){return"string"==typeof t?new St(">=",{test_field:t}):null})).addValidator(["equalsToField","isEqualToField","areEqualToField"],(function(t){return"string"==typeof t?new St("=",{test_field:t}):null})).addValidator(["notEqualsToField","isNotEqualToField","areNotEqualToField"],(function(t){return"string"==typeof t?new St("!=",{test_field:t}):null})).addValidator(["maxSelections","hasMaxSelections"],(function(t){return"number"==typeof t?new Lt(t):null})).addValidator(["minSelections","hasMinSelections"],(function(t){return"number"==typeof t?new Pt(t):null})).addValidator(["shouldBeSelected","isSelected","selected"],(function(){return new Bt})).addValidator(["hasExtension","hasFileExtension"],(function(t){return"string"==typeof t?new Ut(t):null})),t}(new Rt)},t}({});